<!-- Navbar-specific CSS -->
<link rel="stylesheet" href="./css/navBar.css" />

<script type="module" src="../../js/modal.js"></script>

<!-- Translate related -->
<script>
  window.gtranslateSettings = {
    default_language: "en",
    native_language_names: false,
    detect_browser_language: true,
    languages: ["en", "ar", "es", "fr", "de"],
    wrapper_selector: ".gtranslate_wrapper",
  };
</script>
<script
  src="https://cdn.gtranslate.net/widgets/latest/dropdown.js"
  defer
></script>

<!-- Navbar Code -->
<nav>
  <!-- Left side container with logo and translate -->
  <div class="left-container-nav">
    <div class="logo">
      <a href="/">
        <img src="/img/logo.png" alt="Logo" />
      </a>
    </div>
    <!-- Translate will be inside actions -->
  </div>

  <!-- Right side actions (search, login, cart, logout) -->
  <div class="actions">
    <ul>
      <li><div class="gtranslate_wrapper"></div></li>
      <li>
        <button
          style="border: none; background-color: transparent"
          data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasRight"
          aria-controls="offcanvasRight"
        >
          <i class="fa-solid fa-cart-shopping"></i>
        </button>
      </li>

      <% if (user) { %>
      <li>
        <a href="/logout" id="logoutLink">
          <i class="fa-solid fa-right-from-bracket"></i>
        </a>
      </li>
      <li>
        <div class="profile">
          <a href="/api/users/account/<%= user._id %>">
            <img src="<%= user.profilePic %>" alt="Logo" />
          </a>
        </div>
      </li>

      <% } else { %>
      <li>
        <button
          style="border: none; background-color: transparent"
          data-bs-toggle="modal"
          data-bs-target="#loginModal"
        >
          <i class="fa-regular fa-circle-user"></i>
        </button>
      </li>
      <% } %>
    </ul>
  </div>

  <!-- Mobile menu button -->
  <button class="mobile-menu-btn">
    <i class="fa-solid fa-bars"></i>
  </button>

  <!-- Navbar links -->
  <div class="links">
    <ul>
      <div class="mobile-logo">
        <a href="/">
          <img src="./img/logo.png" alt="Logo" />
        </a>
      </div>
      <li><a href="./all-fragrances">Fragrances</a></li>
      <li><a href="./collections">Collections</a></li>
      <li><a href="./gifting">Gifting</a></li>
      <li><a href="./fragrance-quiz">Quiz</a></li>
      <li><a href="./our-story">Our Story</a></li>

      <% if (user != null && user.role =='admin') { %>
        <li><a href="./admin/:<%= user.id %>">Admin</a></li>
      <% } %>
    </ul>
  </div>
</nav>