<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="keywords" content="fragrance quiz, perfume quiz, scent finder, personalized fragrance, AI recommendations, Aloura" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Take Aloura's AI fragrance quiz to discover your perfect scent match. Get personalized perfume recommendations."
    />
    <title>Fragrance Quiz - Aloura</title>

    <!-- Tab Logo -->
    <link rel="icon" type="image/x-icon" href="/img/favicons/rounded-background-favicon.ico" />

    <!-- CSS Links -->
    <link rel="stylesheet" href="../css/fragrance-quiz.css" />
    <link rel="stylesheet" href="../css/quizRec.css" />

    <!-- Font Awesome (navbar, footer, modal, chatbot, cart all use it's icons SO MAKE SURE TO LINK IT) -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- Bootstrap CSS & JS(navbar, footer, modal, cart all use it's functionality SO MAKE SURE TO LINK IT) -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- font of the fragrance quiz -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">



    <!-- Initial Scroll When Reloading -->
    <script>
      if (history.scrollRestoration) {
        history.scrollRestoration = 'manual';
      }
      window.onload = function() {
        window.scrollTo(0, 0);
      };
    </script>
  </head>
  <body class="fragrance-quiz-page">
    <!-- Loader -->
    <%- include('partials/loader.ejs') %>

    <!-- Navbar -->
    <%- include('partials/navbar.ejs', { showQuizProgressBar: true, user: user }) %>

    <!-- Modal -->
    <%- include('partials/modal.ejs') %>

    <!-- Cart -->
    <%- include('partials/cart.ejs') %>

    <!-- Chatbot -->
    <%- include('partials/chatbot.ejs') %>
    
    <!-- Dark Mode -->
    <%- include('partials/dark-mode.ejs') %>

    <!-- Quiz Container -->
    <div class="quiz-container">
      <!-- Progress Bar -->
      <div class="progress-bar">
        <div class="progress"></div>
      </div>

      <!-- Question Slides -->
      <div class="question-slides">
        <!-- Introduction Section -->
        <section class="quiz-section active" id="introduction">
          <h2>First, we'll need an <br> introduction from you.</h2>
          <div class="arrow-down">
            <i class="fa-solid fa-chevron-down"></i>
          </div>
        </section>

        <!-- Age Section -->
        <section class="quiz-section" id="age">
          <h2>How old are you?</h2>
          <div class="age-slider">
            <div class="slider-container">
              <input type="range" min="1" max="80" value="18" class="slider" id="ageSlider">
              <div class="slider-thumb">18</div>
              <div class="slider-checkpoints">
                <div class="slider-checkpoint">1</div>
                <div class="slider-checkpoint">5</div>
                <div class="slider-checkpoint">10</div>
                <div class="slider-checkpoint">15</div>
                <div class="slider-checkpoint">20</div>
                <div class="slider-checkpoint">25</div>
                <div class="slider-checkpoint">30</div>
                <div class="slider-checkpoint">35</div>
                <div class="slider-checkpoint">40</div>
                <div class="slider-checkpoint">45</div>
                <div class="slider-checkpoint">50</div>
                <div class="slider-checkpoint">55</div>
                <div class="slider-checkpoint">60</div>
                <div class="slider-checkpoint">65</div>
                <div class="slider-checkpoint">70</div>
                <div class="slider-checkpoint">75</div>
                <div class="slider-checkpoint">80</div>
              </div>
            </div>
          </div>
          <button class="next-btn">Next</button>
        </section>

        <!-- Gender Section -->
        <section class="quiz-section" id="gender">
          <div class="gender-left">
            <h2>
              What is your<br>
              gender
              <br>
              <div class="quiz-info-rectangle-inline">
                <span class="select-text">Select only 1.</span>
                <span class="learn-more-toggle">Learn more <i class="fa-solid fa-chevron-down arrow-icon"></i></span>
              </div>
            </h2>
            <div class="learn-more-content" style="display:none;">
              <p>Choose the gender you most identify with. This helps us personalize your fragrance recommendations.</p>
            </div>
          </div>
          <div class="gender-right">
            <div class="option" data-value="male">
              <img src="/img/maleSymbol.png" alt="Male Symbol" class="gender-symbol" />
              <span>Male</span>
              <div class="tick-mark">✓</div>
            </div>
            <div class="option" data-value="female">
              <img src="/img/femaleSymbol.png" alt="Female Symbol" class="gender-symbol" />
              <span>Female</span>
              <div class="tick-mark">✓</div>
            </div>
            <div class="option" data-value="neutral">
              <img src="/img/genderNeutralSymbol.png" alt="Gender Neutral Symbol" class="gender-symbol" />
              <span>Gender Neutral</span>
              <div class="tick-mark">✓</div>
            </div>
          </div>
        </section>

        <!-- Skin Tone Section -->
        <section class="quiz-section" id="skinTone">
          <div class="skin-left">
            <h2>
              What is your<br>
              skin-tone
              <br>
              <div class="quiz-info-rectangle-inline">
                <span class="select-text">Select only 1.</span>
                <span class="learn-more-toggle">Learn more <i class="fa-solid fa-chevron-down arrow-icon"></i></span>
              </div>
            </h2>
            <div class="learn-more-content" style="display:none;">
              <p>Your skin tone can influence how a fragrance smells on you. Select the option that best matches your skin.</p>
            </div>
          </div>
          <div class="skin-right">
            <div class="option" data-value="fair">
              <span>fair, ivory, porcelain</span>
              <div class="tick-mark">✓</div>
            </div>
            <div class="option" data-value="light">
              <span>beige, sand, medium white
              </span>
              <div class="tick-mark">✓</div>
            </div>
            <div class="option" data-value="medium">
              <span>honey, gold, light tan
              </span>
              <div class="tick-mark">✓</div>
            </div>
            <div class="option" data-value="olive">
              <span>moderate brown, chestnut, amber
              </span>
              <div class="tick-mark">✓</div>
            </div>
            <div class="option" data-value="tan">
              <span>dark brown, espresso
              </span>
              <div class="tick-mark">✓</div>
            </div>
            <div class="option" data-value="deep">
              <span>mahogany, mocha, umber</span>
              <div class="tick-mark">✓</div>
            </div>
          </div>
        </section>

        <!-- Personality Intro Section -->
        <section class="quiz-section" id="personalityIntro">
          <h2>Let's dive deeper <br> into your personality</h2>
          <div class="arrow-down">
            <i class="fa-solid fa-chevron-down"></i>
          </div>
        </section>

        <!-- Personality Questions -->
        <section class="quiz-section split-section" id="securityVsAdventure">
          <h2 class="split-question">Which matters the most to you?</h2>
          <div class="split-full">
            <div class="split-half left-option" data-value="security">
              <div class="option-content">
                <img src="/img/safe&secure.png" alt="Security" class="option-image">
                <span>Feeling safe and secure</span>
              </div>
              <div class="tick-mark">✓</div>
            </div>
            <div class="split-half right-option" data-value="adventure">
              <div class="option-content">
                <img src="/img/searchForAdventure.png" alt="Adventure" class="option-image">
                <span>Searching for adventure</span>
              </div>
              <div class="tick-mark">✓</div>
            </div>
          </div>
        </section>

        <section class="quiz-section split-section" id="careVsLead">
          <h2 class="split-question">Which would you rather do?</h2>
          <div class="split-full">
            <div class="split-half left-option" data-value="care">
              <div class="option-content">
                <img src="/img/takingCare.png" alt="Take care of people" class="option-image">
                <span>Take care of people</span>
              </div>
              <div class="tick-mark">✓</div>
            </div>
            <div class="split-half right-option" data-value="lead">
              <div class="option-content">
                <img src="/img/lead.png" alt="Lead and be in charge" class="option-image">
                <span>Lead and be in charge</span>
              </div>
              <div class="tick-mark">✓</div>
            </div>
          </div>
        </section>

        <section class="quiz-section split-section" id="buildVsInvent">
          <h2 class="split-question">Which comes most naturally to you?</h2>
          <div class="split-full">
            <div class="split-half left-option" data-value="build">
              <div class="option-content">
                <img src="/img/tradition.png" alt="Take care of people" class="option-image">
                <span>Building on traiditon</span>
              </div>
              <div class="tick-mark">✓</div>
            </div>
            <div class="split-half right-option" data-value="invent">
              <div class="option-content">
                <img src="/img/inventing.png" alt="Lead and be in charge" class="option-image">
                <span>Inventing new ways</span>
              </div>
              <div class="tick-mark">✓</div>
            </div>
          </div>
        </section>


        <section class="quiz-section split-section" id="goodTimeVsSuccess">
          <h2 class="split-question">Which are you naturally inclined to?</h2>
          <div class="split-full">
            <div class="split-half left-option" data-value="goodTime">
              <div class="option-content">
                <img src="/img/goodTime.png" alt="Take care of people" class="option-image">
                <span>Having a good time</span>
              </div>
              <div class="tick-mark">✓</div>
            </div>
            <div class="split-half right-option" data-value="success">
              <div class="option-content">
                <img src="/img/success.png" alt="Lead and be in charge" class="option-image">
                <span>Searching for success</span>
              </div>
              <div class="tick-mark">✓</div>
            </div>
          </div>
        </section>


        <section class="quiz-section split-section" id="organizeVsSurprise">
          <h2 class="split-question">What is most important for you?</h2>
          <div class="split-full">
            <div class="split-half left-option" data-value="organize">
              <div class="option-content">
                <img src="/img/future.png" alt="Take care of people" class="option-image">
                <span>Organize the future</span>
              </div>
              <div class="tick-mark">✓</div>
            </div>
            <div class="split-half right-option" data-value="surprise">
              <div class="option-content">
                <img src="/img/surprises.png" alt="Lead and be in charge" class="option-image">
                <span>Enjoy surprises</span>
              </div>
              <div class="tick-mark">✓</div>
            </div>
          </div>
        </section>

        <!-- Olfactive Intro Section -->
        <section class="quiz-section" id="olfactiveIntro">
          <h2>Splendid! Let's move on to your olfactive preferences!</h2>
          <div class="arrow-down">
            <i class="fa-solid fa-chevron-down"></i>
          </div>
        </section>

        <!-- Fragrance Strength (Redesigned) -->
        <section class="quiz-section" id="fragranceStrength">
          <div class="strength-left">
            <h2>
              How strong do <br> you like your<br>
              perfume?
              <br>
              <div class="quiz-info-rectangle-inline">
                <span class="select-text">Select only 1.</span>
                <span class="learn-more-toggle">Learn more <i class="fa-solid fa-chevron-down arrow-icon"></i></span>
              </div>
            </h2>
            <div class="learn-more-content" style="display:none;">
              <p>Fragrance strength affects how noticeable your scent is. Choose your preferred intensity.</p>
            </div>
          </div>
          <div class="strength-right">
            <div class="strength-bars-container">
              <div class="strength-bar-wrapper">
                <div class="strength-bar strength-bar-short" data-strength="subtle"></div>
                <div class="strength-label">Subtle</div>
              </div>
              <div class="strength-bar-wrapper">
                <div class="strength-bar strength-bar-medium" data-strength="balanced"></div>
                <div class="strength-label">Balanced</div>
              </div>
              <div class="strength-bar-wrapper">
                <div class="strength-bar strength-bar-tall" data-strength="strong"></div>
                <div class="strength-label">Strong</div>
              </div>
            </div>
          </div>
        </section>

        <!-- Feeling -->
        <section class="quiz-section" id="desiredFeeling">
          <h2>
            How would you <br> like to feel with <br> your perfume?
          </h2>
          <div class="learn-more-content" style="display:none;">
            <p>Pick the feeling you want your fragrance to evoke. This helps us match you with the perfect scent.</p>
          </div>
          <div class="options">
            <div class="option" data-value="fresh">
              <span>Fresh & elegant</span>
            </div>
            <div class="option" data-value="seductive">
              <span>Seductive & bold</span>
            </div>
          </div>
        </section>

        <!-- Scent Family -->
        <section class="quiz-section" id="scentFamily">
          <h2>
            Any favorite perfume family?
            <br>
            <div class="quiz-info-rectangle-inline">
              <span class="select-text">Select 2 max.</span>
              <span class="learn-more-toggle">Learn more <i class="fa-solid fa-chevron-down arrow-icon"></i></span>
            </div>
          </h2>
          <div class="learn-more-content" style="display:none;">
            <p>You can select up to two scent families you enjoy most. This helps us narrow down your fragrance profile.</p>
          </div>
          <div class="scent-families-container">
            <div class="column left-column">
              <div class="scent-family-option" data-value="fresh-citrusy">
                <div class="scent-image-container">
                  <img src="/img/notes/fresh.jpg" alt="Fresh & Citrusy Fragrance" class="scent-image">
                </div>
                <div class="scent-info">
                  <h3>Fresh & Citrusy</h3>
                  <div class="scent-check">✓</div>
                </div>
              </div>
              
              <div class="scent-family-option" data-value="aromatic-green">
                <div class="scent-image-container">
                  <img src="/img/notes/new_aromatic__green.jpg" alt="Aromatic & Green Fragrance" class="scent-image">
                </div>
                <div class="scent-info">
                  <h3>Aromatic & Green</h3>
                  <div class="scent-check">✓</div>
                </div>
              </div>
              
              <div class="scent-family-option" data-value="fruity-delicious">
                <div class="scent-image-container">
                  <img src="/img/notes/fruity.jpg" alt="Fruity & Delicious Fragrance" class="scent-image">
                </div>
                <div class="scent-info">
                  <h3>Fruity & Delicious</h3>
                  <div class="scent-check">✓</div>
                </div>
              </div>
              
              <div class="scent-family-option" data-value="floral-delicate">
                <div class="scent-image-container">
                  <img src="/img/notes/new_floral.jpg" alt="Floral & Delicate Fragrance" class="scent-image">
                </div>
                <div class="scent-info">
                  <h3>Floral & Delicate</h3>
                  <div class="scent-check">✓</div>
                </div>
              </div>
            </div>
            
            <div class="column right-column">
              <div class="scent-family-option" data-value="woody-profound">
                <div class="scent-image-container">
                  <img src="/img/notes/woody.jpg" alt="Woody & Profound Fragrance" class="scent-image">
                </div>
                <div class="scent-info">
                  <h3>Woody & Profound</h3>
                  <div class="scent-check">✓</div>
                </div>
              </div>
              
              <div class="scent-family-option" data-value="sweet-gourmand">
                <div class="scent-image-container">
                  <img src="/img/notes/new_sweet.jpg" alt="Sweet & Gourmand Fragrance" class="scent-image">
                </div>
                <div class="scent-info">
                  <h3>Sweet & Gourmand</h3>
                  <div class="scent-check">✓</div>
                </div>
              </div>
              
              <div class="scent-family-option" data-value="amber-spicy">
                <div class="scent-image-container">
                  <img src="/img/notes/spicy.jpg" alt="Amber & Spicy Fragrance" class="scent-image">
                </div>
                <div class="scent-info">
                  <h3>Amber & Spicy</h3>
                  <div class="scent-check">✓</div>
                </div>
              </div>
              
              <div class="scent-family-option" data-value="leathery-distinctive">
                <div class="scent-image-container">
                  <img src="/img/notes/leathery.jpg" alt="Leathery & Distinctive Fragrance" class="scent-image">
                </div>
                <div class="scent-info">
                  <h3>Leathery & Distinctive</h3>
                  <div class="scent-check">✓</div>
                </div>
              </div>
            </div>
          </div>
          <button class="next-btn find-fragrance-btn">Find My Perfect Fragrance</button>
        </section>

        <!-- Recommendation Section -->
        <section class="quiz-section split-section" id="recommendation">
          <div class="recommendation-left">
            <img src="/img/quizFinalRec.png" alt="Quiz Recommendation" class="recommendation-image" />
          </div>
          <div class="recommendation-right">
            <h2>preparing your personalised perfume <br> recomendations...</h2>
            <div class="rec-checkbox-row">
              <label class="custom-checkbox-label">
                <input type="checkbox" id="recEmailCheckbox" checked>
                <span class="custom-checkbox"></span>
                Tick to receive result by email:
              </label>
            </div>
            <ul class="rec-benefits-list">
              <li><span class="rec-benefit-circle"><span class="rec-benefit-tick"></span></span>Your personality decoding</li>
              <li><span class="rec-benefit-circle"><span class="rec-benefit-tick"></span></span>Your scent style analysis</li>
              <li><span class="rec-benefit-circle"><span class="rec-benefit-tick"></span></span>Your personalised scent mixed recommendations</li>
            </ul>
            <form id="recommendation-form">
              <div class="mb-3 rec-email-anim-container">
                <div class="rec-email-container" id="recEmailField">
                  <input type="email" class="form-control" id="recommendationEmail" placeholder=" " autocomplete="off">
                  <label for="recommendationEmail" class="rec-email-label">Email</label>
                </div>
              </div>
              <button type="submit" class="btn btn-primary">Reveal My Result</button>
            </form>
          </div>
        </section>
      </div>
    </div>

    <!-- Recommendation Modal Overlay -->
    <div id="rec-modal-overlay" class="rec-modal-overlay">
      <div class="rec-modal-container">
        <button class="rec-modal-close" aria-label="Close">&times;</button>
        <div class="rec-modal-card">
          <img src="" alt="Fragrance Image" class="rec-modal-img" />
          <div class="rec-modal-info">
            <h2 class="rec-modal-title"></h2>
            <p class="rec-modal-desc"></p>
            <p class="rec-modal-price"></p>
            <button class="rec-modal-shop">Shop Now</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="../js/quiz.js"></script>
    <script>
    // Email field show/hide animation for quiz recommendation
    (function() {
      const checkbox = document.getElementById('recEmailCheckbox');
      const emailAnimContainer = document.querySelector('.rec-email-anim-container');
      const emailField = document.getElementById('recEmailField');
      const revealBtn = document.querySelector('#recommendation-form .btn-primary');

      function showEmailField() {
        emailAnimContainer.style.maxHeight = emailField.scrollHeight + 40 + 'px';
        emailAnimContainer.style.opacity = '1';
        emailAnimContainer.style.marginBottom = '25px';
        emailField.style.transform = 'translateY(0)';
        emailField.style.opacity = '1';
        revealBtn.style.transform = 'translateY(0)';
      }
      function hideEmailField() {
        emailAnimContainer.style.maxHeight = '0px';
        emailAnimContainer.style.opacity = '0';
        emailAnimContainer.style.marginBottom = '0px';
        emailField.style.transform = 'translateY(-20px)';
        emailField.style.opacity = '0';
        revealBtn.style.transform = 'translateY(-20px)';
      }

      // Initial state
      if (checkbox.checked) {
        showEmailField();
      } else {
        hideEmailField();
      }

      checkbox.addEventListener('change', function() {
        if (checkbox.checked) {
          showEmailField();
        } else {
          hideEmailField();
        }
      });
    })();
    </script>
  </body>
</html>